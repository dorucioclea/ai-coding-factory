// Domain Entity Template
// Story: {{StoryId}}
// Generated by Claude Code

namespace {{Namespace}}.Domain.Entities;

/// <summary>
/// Represents a {{EntityName}} entity.
/// </summary>
public class {{EntityName}} : BaseEntity, IAggregateRoot
{
    #region Properties

    public Guid Id { get; private set; }
    public DateTime CreatedAt { get; private set; }
    public DateTime? UpdatedAt { get; private set; }

    // Add entity-specific properties
    // public string Name { get; private set; } = string.Empty;
    // public {{Status}}Status Status { get; private set; }

    #endregion

    #region Navigation Properties

    // Example collection navigation
    // private readonly List<{{RelatedEntity}}> _items = new();
    // public IReadOnlyCollection<{{RelatedEntity}}> Items => _items.AsReadOnly();

    #endregion

    #region Factory Methods

    /// <summary>
    /// Creates a new {{EntityName}} instance.
    /// </summary>
    public static {{EntityName}} Create(/* creation parameters */)
    {
        var entity = new {{EntityName}}
        {
            Id = Guid.NewGuid(),
            CreatedAt = DateTime.UtcNow,
            // Set other properties
        };

        entity.AddDomainEvent(new {{EntityName}}CreatedEvent(entity.Id));
        return entity;
    }

    #endregion

    #region Business Methods

    /// <summary>
    /// Updates the {{EntityName}} with new values.
    /// </summary>
    public void Update(/* update parameters */)
    {
        // Validate state transitions
        // Update properties
        UpdatedAt = DateTime.UtcNow;

        AddDomainEvent(new {{EntityName}}UpdatedEvent(Id));
    }

    // Add more business methods as needed

    #endregion

    #region Private Constructor

    /// <summary>
    /// Private constructor for EF Core.
    /// </summary>
    private {{EntityName}}() { }

    #endregion
}

// Domain Events
public record {{EntityName}}CreatedEvent(Guid {{EntityName}}Id) : IDomainEvent;
public record {{EntityName}}UpdatedEvent(Guid {{EntityName}}Id) : IDomainEvent;
