// React Component Test Template
// Story: {{StoryId}}
// Generated by Claude Code

import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { {{ComponentName}} } from './{{ComponentName}}';

describe('{{ComponentName}}', () => {
  // Test metadata for traceability
  const storyId = '{{StoryId}}';

  describe('Rendering', () => {
    it('renders without crashing', () => {
      // Arrange & Act
      render(<{{ComponentName}} />);

      // Assert
      expect(screen.getByTestId('{{componentName}}')).toBeInTheDocument();
    });

    it('renders children correctly', () => {
      // Arrange
      const childText = 'Test Content';

      // Act
      render(<{{ComponentName}}>{childText}</{{ComponentName}}>);

      // Assert
      expect(screen.getByText(childText)).toBeInTheDocument();
    });

    it('applies custom className', () => {
      // Arrange
      const customClass = 'custom-class';

      // Act
      render(<{{ComponentName}} className={customClass} />);

      // Assert
      expect(screen.getByTestId('{{componentName}}')).toHaveClass(customClass);
    });

    it('renders with story data attribute', () => {
      // Arrange & Act
      render(<{{ComponentName}} />);

      // Assert
      expect(screen.getByTestId('{{componentName}}')).toHaveAttribute(
        'data-story',
        storyId
      );
    });
  });

  describe('Variants', () => {
    it.each(['default', 'primary', 'secondary'] as const)(
      'renders %s variant correctly',
      (variant) => {
        // Arrange & Act
        render(<{{ComponentName}} variant={variant} />);

        // Assert
        expect(screen.getByTestId('{{componentName}}')).toBeInTheDocument();
      }
    );
  });

  describe('Interactions', () => {
    it('handles click events', async () => {
      // Arrange
      const user = userEvent.setup();
      const handleClick = jest.fn();

      // Act
      render(
        <{{ComponentName}}>
          <button onClick={handleClick}>Click me</button>
        </{{ComponentName}}>
      );
      await user.click(screen.getByRole('button'));

      // Assert
      expect(handleClick).toHaveBeenCalledTimes(1);
    });
  });

  describe('Accessibility', () => {
    it('has no accessibility violations', async () => {
      // Arrange
      const { container } = render(
        <{{ComponentName}}>Accessible content</{{ComponentName}}>
      );

      // Assert
      // Note: Requires @axe-core/react or jest-axe
      // expect(await axe(container)).toHaveNoViolations();
      expect(container).toBeInTheDocument();
    });

    it('supports keyboard navigation', async () => {
      // Arrange
      const user = userEvent.setup();

      // Act
      render(
        <{{ComponentName}}>
          <button>First</button>
          <button>Second</button>
        </{{ComponentName}}>
      );
      await user.tab();

      // Assert
      expect(screen.getByText('First')).toHaveFocus();
    });
  });

  describe('Edge Cases', () => {
    it('handles empty children gracefully', () => {
      // Arrange & Act
      render(<{{ComponentName}} />);

      // Assert
      expect(screen.getByTestId('{{componentName}}')).toBeEmptyDOMElement();
    });

    it('handles null children gracefully', () => {
      // Arrange & Act
      render(<{{ComponentName}}>{null}</{{ComponentName}}>);

      // Assert
      expect(screen.getByTestId('{{componentName}}')).toBeInTheDocument();
    });
  });
});
