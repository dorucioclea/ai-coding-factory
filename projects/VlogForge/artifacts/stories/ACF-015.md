# ACF-015: Frontend Implementation for Core Features

**Status**: Ready
**Priority**: P1 - Must Have (MVP)
**Epic**: Frontend
**Estimate**: XL

## User Story

As a **creator**, I want a **complete frontend experience** so that **I can use all the features available in the backend through an intuitive web interface**.

## Overview

This story consolidates all missing frontend work from ACF-001 through ACF-008. The backend APIs are fully implemented; this story delivers the corresponding React/Next.js frontend pages and components.

## Scope Summary

| Source Story | Feature | Frontend Status | Work Required |
|--------------|---------|-----------------|---------------|
| ACF-001 | Authentication | ✅ Complete | Minor polish |
| ACF-002 | Creator Profile | ❌ Missing | Full implementation |
| ACF-003 | Platform Connections | ❌ Missing | Full implementation |
| ACF-004 | Analytics Dashboard | ✅ Complete | Minor polish |
| ACF-005 | Content Ideas | ❌ Missing | Full implementation |
| ACF-006 | Content Calendar | ❌ Missing | Full implementation |
| ACF-007 | Team Management | ❌ Missing | Full implementation |
| ACF-008 | Task Assignment | ❌ Missing | Full implementation |

---

## Acceptance Criteria

### Phase 1: Creator Profile (ACF-002 Frontend)

#### AC1.1: Profile View Page
- **Given** any user visiting `/profile/{username}`
- **When** the page loads
- **Then** they see: avatar, display name, bio, niche tags, collaboration badge, connected platforms

#### AC1.2: Profile Edit Page
- **Given** an authenticated creator at `/dashboard/profile`
- **When** they view the page
- **Then** they can edit: display name, bio (500 char limit), niche tags (max 5), collaboration availability toggle

#### AC1.3: Profile Picture Upload
- **Given** a creator editing their profile
- **When** they upload a new profile picture
- **Then** the image is validated (type, size), uploaded, and preview updates immediately

**API Endpoints**: `GET /api/profiles/{username}`, `PUT /api/profiles/me`, `POST /api/profiles/me/avatar`

**Components**:
- `ProfileViewPage` - Public profile display
- `ProfileEditForm` - Editable profile form
- `AvatarUpload` - Image upload with preview
- `NicheTagSelector` - Tag selection (max 5)
- `CollaborationToggle` - Availability switch

---

### Phase 2: Platform Connections (ACF-003 Frontend)

#### AC2.1: Integrations Page
- **Given** a creator at `/dashboard/integrations`
- **When** the page loads
- **Then** they see cards for YouTube, Instagram, TikTok with connection status

#### AC2.2: Connect Platform Flow
- **Given** a creator viewing an unconnected platform
- **When** they click "Connect"
- **Then** OAuth popup opens, completes flow, and status updates to "Connected"

#### AC2.3: Disconnect Platform
- **Given** a creator with a connected platform
- **When** they click "Disconnect" and confirm
- **Then** the platform is disconnected with confirmation message

#### AC2.4: Connection Status Display
- **Given** connected platforms
- **When** viewing the integrations page
- **Then** each shows: status badge (Connected/Error/Disconnected), last sync time, account name

**API Endpoints**: `GET /api/integrations/status`, `POST /api/integrations/{platform}/connect`, `DELETE /api/integrations/{platform}`

**Components**:
- `IntegrationsPage` - Main integrations dashboard
- `PlatformCard` - Individual platform connection card
- `OAuthConnectButton` - Initiates OAuth flow
- `ConnectionStatusBadge` - Visual status indicator
- `DisconnectConfirmModal` - Confirmation dialog

---

### Phase 3: Content Ideas Management (ACF-005 Frontend)

#### AC3.1: Ideas List Page
- **Given** a creator at `/dashboard/content`
- **When** the page loads
- **Then** they see a list/grid of content ideas with filtering by status and platform

#### AC3.2: Create Idea
- **Given** a creator on the content page
- **When** they click "New Idea" and fill the form
- **Then** a new idea is created with title, notes, platform tags, and "Idea" status

#### AC3.3: Edit Idea
- **Given** a creator viewing an idea
- **When** they click edit
- **Then** they can update title, notes, tags, and status

#### AC3.4: Delete Idea
- **Given** a creator viewing an idea
- **When** they click delete and confirm
- **Then** the idea is soft-deleted with undo option (toast)

#### AC3.5: Status Workflow
- **Given** a content idea
- **When** the creator changes status via dropdown
- **Then** status updates through: Idea → Draft → In Review → Scheduled → Published

#### AC3.6: Search and Filter
- **Given** a creator with many ideas
- **When** they use the search bar or filters
- **Then** ideas are filtered by text (title/notes) and/or status/platform

**API Endpoints**: `GET /api/content`, `POST /api/content`, `PUT /api/content/{id}`, `DELETE /api/content/{id}`

**Components**:
- `ContentIdeasPage` - Main content management page
- `IdeaCard` / `IdeaListItem` - Individual idea display
- `CreateIdeaModal` - New idea form
- `EditIdeaForm` - Edit existing idea
- `StatusBadge` - Color-coded status indicator
- `StatusDropdown` - Status change selector
- `ContentFilters` - Filter by status/platform
- `ContentSearch` - Full-text search input

---

### Phase 4: Content Calendar (ACF-006 Frontend)

#### AC4.1: Calendar View
- **Given** a creator at `/dashboard/calendar`
- **When** the page loads
- **Then** they see a month view with content items on their scheduled dates

#### AC4.2: Week/Month Toggle
- **Given** a creator viewing the calendar
- **When** they toggle view mode
- **Then** the display switches between week and month views

#### AC4.3: Drag and Drop Scheduling
- **Given** a creator viewing the calendar
- **When** they drag a content item to a new date
- **Then** the scheduled date updates with optimistic UI (rollback on failure)

#### AC4.4: Quick Add from Calendar
- **Given** a creator viewing the calendar
- **When** they click on an empty date
- **Then** a quick-add modal opens with that date pre-filled

#### AC4.5: Status Color Coding
- **Given** content items on the calendar
- **When** displayed
- **Then** items show colors: Idea=gray, Draft=yellow, Review=orange, Scheduled=blue, Published=green

**API Endpoints**: `GET /api/calendar?month=YYYY-MM`, `PATCH /api/content/{id}/schedule`

**Components**:
- `CalendarPage` - Main calendar view
- `CalendarGrid` - Month/week grid layout
- `CalendarDayCell` - Individual day with items
- `DraggableContentItem` - Drag-enabled content card
- `ViewToggle` - Week/month switcher
- `QuickAddModal` - Fast content creation
- `CalendarHeader` - Navigation (prev/next month)

**Libraries**: React DnD for drag-and-drop

---

### Phase 5: Team Management (ACF-007 Frontend)

#### AC5.1: Team Dashboard
- **Given** a creator at `/dashboard/team`
- **When** the page loads
- **Then** they see team info, member list with roles, and pending invitations

#### AC5.2: Create Team
- **Given** a creator without a team
- **When** they click "Create Team"
- **Then** they can enter team name and create it (becomes owner)

#### AC5.3: Invite Members
- **Given** a team owner/admin
- **When** they click "Invite" and enter email + role
- **Then** invitation is sent and appears in pending list

#### AC5.4: Manage Members
- **Given** a team owner/admin viewing members
- **When** they click on a member
- **Then** they can change role or remove member (with confirmation)

#### AC5.5: Accept Invitation (Invitee Flow)
- **Given** a user with pending invitation at `/team/invite/{token}`
- **When** they click "Accept"
- **Then** they join the team with assigned role

#### AC5.6: Role Badges
- **Given** the member list
- **When** displayed
- **Then** each member shows role badge: Owner (purple), Admin (blue), Editor (green), Viewer (gray)

**API Endpoints**: `POST /api/teams`, `GET /api/teams/{id}`, `POST /api/teams/{id}/invite`, `POST /api/teams/invitations/{token}/accept`, `PUT /api/teams/{id}/members/{userId}/role`, `DELETE /api/teams/{id}/members/{userId}`

**Components**:
- `TeamDashboardPage` - Main team management
- `CreateTeamModal` - Team creation form
- `MemberList` - Team members table/list
- `MemberCard` - Individual member display
- `InviteMemberModal` - Email + role form
- `PendingInvitations` - List of pending invites
- `RoleBadge` - Visual role indicator
- `RoleSelector` - Role dropdown
- `AcceptInvitationPage` - Invitation acceptance flow
- `RemoveMemberModal` - Confirmation dialog

---

### Phase 6: Task Assignment (ACF-008 Frontend)

#### AC6.1: My Tasks Page
- **Given** a team member at `/dashboard/tasks`
- **When** the page loads
- **Then** they see tasks assigned to them, sorted by due date

#### AC6.2: Assign Task
- **Given** a team lead editing a content item
- **When** they assign it to a team member with due date
- **Then** assignment is saved and appears in assignee's task list

#### AC6.3: Task Status Updates
- **Given** an assigned team member viewing a task
- **When** they change status (Not Started → In Progress → Completed)
- **Then** status updates and is reflected in team view

#### AC6.4: Task Comments
- **Given** a task with assignment
- **When** team members add comments
- **Then** comments appear in threaded view, visible to all team members

#### AC6.5: Overdue Highlighting
- **Given** tasks with due dates
- **When** viewing task list
- **Then** overdue tasks are highlighted in red with "Overdue" badge

#### AC6.6: Task Detail View
- **Given** a user clicking on a task
- **When** the detail panel/modal opens
- **Then** they see: content info, assignee, due date, status, comments thread

**API Endpoints**: `GET /api/tasks/mine`, `POST /api/content/{id}/assign`, `PATCH /api/tasks/{id}/status`, `GET /api/tasks/{id}/comments`, `POST /api/tasks/{id}/comments`

**Components**:
- `MyTasksPage` - Personal task list
- `TaskList` - Filterable task list
- `TaskCard` - Individual task display
- `TaskDetailModal` - Full task view
- `AssignTaskForm` - Assignee + due date picker
- `TaskStatusDropdown` - Status selector
- `TaskComments` - Threaded comments
- `CommentInput` - Add comment form
- `OverdueBadge` - Visual overdue indicator
- `DueDatePicker` - Date selection

---

## Technical Notes

### Folder Structure
```
src/
├── app/
│   └── dashboard/
│       ├── profile/
│       │   └── page.tsx
│       ├── integrations/
│       │   └── page.tsx
│       ├── content/
│       │   └── page.tsx
│       ├── calendar/
│       │   └── page.tsx
│       ├── team/
│       │   └── page.tsx
│       └── tasks/
│       │   └── page.tsx
├── components/
│   ├── profile/
│   ├── integrations/
│   ├── content/
│   ├── calendar/
│   ├── team/
│   └── tasks/
├── hooks/
│   ├── use-profile.ts
│   ├── use-integrations.ts
│   ├── use-content.ts
│   ├── use-calendar.ts
│   ├── use-team.ts
│   └── use-tasks.ts
└── types/
    ├── profile.ts
    ├── integrations.ts
    ├── content.ts
    ├── calendar.ts
    ├── team.ts
    └── tasks.ts
```

### State Management
- TanStack Query for server state (API data)
- Zustand for UI state (modals, filters, view preferences)
- Optimistic updates for drag-and-drop and status changes

### Libraries to Add
- `react-dnd` + `react-dnd-html5-backend` - Calendar drag-and-drop
- `date-fns` - Date formatting and manipulation
- `@tanstack/react-table` - Task and member tables

### Design Tokens
- Follow existing shadcn/ui component patterns
- Use consistent color coding for statuses
- Responsive design: mobile-first approach

---

## Dependencies

- ACF-001 through ACF-008 (Backend APIs - all complete)

## Test Requirements

### Unit Tests
- Component rendering tests for all new components
- Hook tests for data fetching and mutations
- Validation tests for forms

### Integration Tests
- API integration tests with MSW mocks
- Navigation flow tests

### E2E Tests (Playwright)
- Profile edit flow
- Platform connection/disconnection flow
- Content idea CRUD flow
- Calendar drag-and-drop scheduling
- Team invitation flow
- Task assignment and commenting flow

## Traceability

- Source Stories: ACF-001, ACF-002, ACF-003, ACF-004, ACF-005, ACF-006, ACF-007, ACF-008
- Tests: `frontend/src/__tests__/`, `frontend/e2e/`
- Pages: `/dashboard/profile`, `/dashboard/integrations`, `/dashboard/content`, `/dashboard/calendar`, `/dashboard/team`, `/dashboard/tasks`

## Implementation Order

1. **Phase 1**: Creator Profile (simpler, foundational)
2. **Phase 2**: Platform Connections (isolated feature)
3. **Phase 3**: Content Ideas (core feature)
4. **Phase 4**: Content Calendar (depends on content)
5. **Phase 5**: Team Management (parallel track)
6. **Phase 6**: Task Assignment (depends on team + content)

## Substories (Optional Breakdown)

If this story is too large, split into:
- ACF-015a: Profile Frontend
- ACF-015b: Integrations Frontend
- ACF-015c: Content Ideas Frontend
- ACF-015d: Calendar Frontend
- ACF-015e: Team Frontend
- ACF-015f: Tasks Frontend
