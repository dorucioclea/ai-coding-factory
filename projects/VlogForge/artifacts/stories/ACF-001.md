# ACF-001: User Registration and Authentication

**Status**: Ready
**Priority**: P1 - Must Have (MVP)
**Epic**: Foundation
**Estimate**: M

## User Story

As a **creator**, I want to **register and login** so that **my data is secure and I can access my personalized dashboard**.

## Acceptance Criteria

### AC1: User Registration
- **Given** a visitor is on the registration page
- **When** they provide valid email, password (min 8 chars, 1 uppercase, 1 number), and display name
- **Then** an account is created and verification email is sent

### AC2: User Login
- **Given** a registered user with verified email
- **When** they provide valid credentials
- **Then** they receive JWT access token (60 min expiry) and refresh token (7 day expiry)

### AC3: Token Refresh
- **Given** an authenticated user with valid refresh token
- **When** access token expires
- **Then** new access token is issued without re-authentication

### AC4: Password Reset
- **Given** a user who forgot their password
- **When** they request password reset with valid email
- **Then** reset link is sent (24 hour expiry)

## Technical Notes

- Use ASP.NET Core Identity with JWT bearer authentication
- Store refresh tokens in database with revocation capability
- Implement rate limiting on auth endpoints (5 attempts per minute)
- Hash passwords with BCrypt (cost factor 12)

## Security Impact

- HIGH: Authentication system - must follow OWASP guidelines
- Implement account lockout after 5 failed attempts
- Log all authentication events for audit trail

## Test Requirements

- Unit tests for token generation/validation
- Integration tests for full auth flow
- E2E tests for registration and login UI flows

## Traceability

- Tests: `VlogForge.UnitTests/Domain/UserTests.cs`, `VlogForge.IntegrationTests/Api/AuthTests.cs`
- API: `POST /api/auth/register`, `POST /api/auth/login`, `POST /api/auth/refresh`, `POST /api/auth/forgot-password`
